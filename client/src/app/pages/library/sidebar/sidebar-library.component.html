@for (node of flatData; track node) {
  @if (!isParentNodeCollapsed(node)) {
    <div
      class="flex node text-sm"
      [style.background-color]="node.selected ? '#393939' : null"
      [style.paddingLeft]="node.level * 20 + 'px'"
      [attr.aria-level]="node.level + 1"
      >
      @if (node.expandable) {
        <svg
          (click)="expandNode(node)"
          class="fill-neutral-400 w-[10px] h-[10px] self-center mr-2"
          viewBox="0 0 16 16"
          xmlns="http://www.w3.org/2000/svg"
          >
          <path d="M8 10.18 2.39 4.52l-.89.87 5.59 5.71a1.18 1.18 0 0 0 .86.39 1.13 1.13 0 0 0 .85-.39l5.7-5.7-.88-.89z" />
        </svg>
      }
      <!-- <svg
      (click)="expandNode(node)"
      *ngIf="node.expandable"
      class="fill-neutral-400 w-[14px] h-[14px] self-center mr-2"
      viewBox="0 0 32 32"
      xmlns="http://www.w3.org/2000/svg"
      >
      <path d="M16.003 18.626l7.081-7.081L25 13.46l-8.997 8.998-9.003-9 1.917-1.916z" />
    </svg> -->
    <div
      class="mb-1 flex-1"
      [ngStyle]="{ 'padding-left': !node.expandable && '20px' }"
      (click)="selectNode(node, true)"
      >
      {{ node.name }}
    </div>
  </div>
}
}
